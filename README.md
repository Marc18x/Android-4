# Android-作业4
《移动计算技术与应用》作业4

学号：_______________   姓名：_______________  班级：_____________

一、设计题：
1．	按照下图设计和实现选项菜单，界面如下。要求：
(1)	实现如下选项菜单，切换页面图片。
(2)	单击“四季图片组”菜单项，弹出图3所示的二级菜单。选项菜单项切换四季图片。
      
    图1  初始界面                             图2  选项菜单
    
           图3 选项菜单的二级菜单

建议：
（1）图3为选项菜单的二级菜单，在菜单文件中定义，定义时将二级菜单项放在一个<group>里面，然后设置group的android:checkableBehavior="all"即可。
（2）在编写菜单项的选择方法（onOptionItemSelected）时，其参数为选择的菜单项，通过这个参数可以获取菜单项的ID，通过判断ID区分不同的菜单项，进行不同的图片设置。

2．	按照下图设计和实现上下文菜单，界面如下。要求：
（1）	实现如下上下文菜单，切换页面图片。
（2）	长按图片弹出上下文菜单。
   
         图4主界面                        图5 显示上下文菜单（带单选符号）
建议：
（1）	将菜单项设置为单选按钮样式：在菜单资源文件中，将所有的菜单项放在一个<group>里面，然后设置group的android:checkableBehavior="single"即可。
（2）	在编写上下文菜单项的选择方法（onContextItemSelected）时，其参数为选择的菜单项，通过这个参数可以获取菜单项的ID，通过判断ID区分不同的菜单项，进行不同的图片设置。

3．	设计并实现图6学生信息输入界面，单击“显示”按钮时弹出对话框显示学生信息（如图7）；单击“退出”按钮时显示图8对话框。（此题可在作业二的第2题基础上修改完成）
   
图6 学生信息输入界面                    图7对话框显示学生信息
 
图8 单击退出按钮时显示

建议：
（1）	专业类型使用Android的Spinner控件，适配器可以使用ArrayAdapter/SimpleAdapter等。具体列表项的内容即可以在代码中用数组给定/也可定义为字符串资源。
在获取被选择的列表项的值时，可以使用下面方法：
spinner1.getSelectedItem().toString()
另外，字符串资源的获取方法：
getResources().getStringArray(字符串资源的名称)

（2）	在“显示”按钮的OnClickListener事件处理方法中，获取输入界面各组件中输入的值并存储到字符串变量中（也可以自定义一个学生类，用于封装学生信息）；然后创建对话框，对话框使用定制的AlertDialog，即自定义对话框的界面：界面如图7所示，界面布局文件名为student_dialog.xml. 可以使用线性布局嵌套表格布局完成。加载对话框布局文件的方法见PPT：（在定义对话框布局文件时，背景使用图片bg_dialog.png
 


4．	利用ListView/AlertDialog实现图9所示的学生列表和长按列表项时，弹出对话框显示详细信息 。
   
图 9  学生列表界面                    图10 长按列表项弹出对话框

提示：
（1）	显示数据的存储：在此例中要求数据暂时存储到一个xml文件当中，程序运行时加载。为表示数据，创建一个Student类存储学生数据。
 
   图11 Student类属性（自己定义set/get方法）
（2）	从XML文件读取数据：（具体可参考ftp上的课内实例）
 
 

（3）	在Activity中数据的存储：（Student类中的face属性，用于存储faces数组的索引值，表示学生图片。）
 
（4）	ListView的适配器可以采用自定义适配器：
首先，自定义列表选项的布局：student_list.xml 
 
其次，定义自定义适配器：（这里只给出getView方法，也可根据情况自行定义和修改）
 
（5）	对话框使用定制的AlertDialog，对话框布局文件：student_dialog.xml.
具体参见第3题。
